<html>
  <head>
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script>
    var conf;
  $(function() {
    var hash = window.location.hash;
      conf = JSON.parse(decodeURIComponent(hash.substr(1)));
      // document.write(JSON.stringify(conf));
      console.log(conf);
      console.log(window.location.search);
      // var options = { color: 'white', border: true };
      //document.location = 'pebblejs://close#' + encodeURIComponent(JSON.stringify(conf));
      
      if (conf.maker) {
        $('#makerKey').val(conf.maker);
      }
      
      if (conf.events) {
        var eventDiv = $("#eventList");
        for (var i = 0 ; i < conf.events.length; i ++) {
          eventDiv.add("<div>" + conf.events[i] + "</div>");
        }
      }
      
      $('#save').click(function(){$('#message').text(JSON.stringify(conf))});
      $('#reset').click(function(){
        conf.maker = "";
        conf.events = [];
        conf.values = [];
      });
  });
  </script>
  </head>
  <body>
IFlocation allows you setup the IFTTT Maker Key, Events and Values here, and creates Trigger in your Pebble watch.
    <script>
      document.write(JSON.stringify(conf));
    </script>
    <form>

  <p>Maker Key: <input type="text" id="makerKey" name="makerKey" placeholder="IFTTT Maker Key"></p>
  <p>Events: <input type="text" id="eventName" name="eventName" placeholder="Enter event name">
    <a id="addEvent" href="javascript:void(0)">Add</a>
    <div id="eventList"></div>
  </p>
  <p>Values: <input type="text" id="valueName" name="valueName" placeholder="Enter value">
    <a id="addEvent" href="javascript:void(0)">Add</a>
    <div id="valueList"></div>
  </p>
  <a id="reset" href="javascript:void(0)">Reset</a>
  <a id="save" href="javascript:void(0)">Save</a>
</form>
--<div id="message"></div>--
  </body>
</html>
